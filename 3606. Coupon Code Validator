class Solution {
    public List<String> validateCoupons(String[] code, String[] businessLine, boolean[] isActive) {
        List<String> electronics = new ArrayList<>();
        List<String> grocery = new ArrayList<>();
        List<String> pharmacy = new ArrayList<>();
        List<String> restaurant = new ArrayList<>();

        for(int i=0;i<code.length;i++)
        {
            if(!isActive[i] || code[i].isEmpty() || businessLine[i]==null || code[i].length() == 0)
            {
                continue;
            }

            boolean validCode = true;
            for(char c : code[i].toCharArray())
            {
                if(!Character.isLetterOrDigit(c) && c != '_')
                {
                    validCode = false;
                    break;
                }
            }
            if(validCode)
                {
                    if(businessLine[i].equals("electronics"))
                    {
                        electronics.add(code[i]);
                    }
                    else if(businessLine[i].equals("grocery"))
                    {
                        grocery.add(code[i]);
                    }
                    else if(businessLine[i].equals("pharmacy"))
                    {
                        pharmacy.add(code[i]);
                    }
                    else if(businessLine[i].equals("restaurant"))
                    {
                        restaurant.add(code[i]);
                    }
                }
        }
         Collections.sort(electronics);
            Collections.sort(grocery);
            Collections.sort(pharmacy);
            Collections.sort(restaurant);

            List<String> result = new ArrayList<>();
            result.addAll(electronics);
            result.addAll(grocery);
            result.addAll(pharmacy);
            result.addAll(restaurant);
         return result;
    }
}



// class Solution {
//     public List<String> validateCoupons(String[] code, String[] businessLine, boolean[] isActive) {
        
//         //valid business lines
//         String[] order = {"electronics", "grocery", "pharmacy", "restaurant"};

//         Set<String> validBusinessLine = new HashSet<>(Arrays.asList(order));

//         //storing coupon codes for busniess lines
//         Map<String , List<String>> mpp = new HashMap<>();
//         for(String s : order)
//         {
//             mpp.put(s,new ArrayList<>());
//         }

//         //validation
//         for(int i=0;i<code.length;i++)
//         {
//             //active status
//             if(!isActive[i])
//             {
//                 continue;       //skip
//             }

//             //valid business line
//             if(!validBusinessLine.contains(businessLine[i]))
//             {
//                 continue;          //skip
//             }

//             //valid coupon code
//             if(code[i] == null || !code[i].matches("[a-zA-Z0-9_]+"))
//             {
//                 continue;        //skip
//             }

//             //if, all valid, then add into map!
//             mpp.get(businessLine[i]).add(code[i]);
//         }

//         //sorting business lines and result
//         ArrayList<String> result = new ArrayList<>();
//         for(String st : order)
//         {
//             List<String> list = mpp.get(st);
//             Collections.sort(list);
//             result.addAll(list);
//         }

//         return result;
//     }
// }
